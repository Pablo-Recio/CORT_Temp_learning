<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ms</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="ms_files/libs/clipboard/clipboard.min.js"></script>
<script src="ms_files/libs/quarto-html/quarto.js"></script>
<script src="ms_files/libs/quarto-html/popper.min.js"></script>
<script src="ms_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="ms_files/libs/quarto-html/anchor.min.js"></script>
<link href="ms_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="ms_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="ms_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="ms_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="ms_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Cognition is defined as the processes by which animals gather, preserve, and use information from their environment through perception, learning, memory, and decision making (<span class="citation" data-cites="shettleworth_2009">(<a href="#ref-shettleworth_2009" role="doc-biblioref"><strong>shettleworth_2009?</strong></a>)</span>). These mechanisms underpin several aspects of animals’ ecology such as habitat selection, foraging decisions, mate choice, antipredatory strategies, and/or social behaviours that are crucial for survival and reproduction (<span class="citation" data-cites="dukas_evolutionary_2004">Dukas (<a href="#ref-dukas_evolutionary_2004" role="doc-biblioref">2004</a>)</span>). Particularly, learning - the acquisition of neuronal representations of new information (<span class="citation" data-cites="dukas_evolutionary_2004">Dukas (<a href="#ref-dukas_evolutionary_2004" role="doc-biblioref">2004</a>)</span>) - is seen as fundamental for coping with environmental changes by allowing individuals to create new associations between events (<span class="citation" data-cites="dukas_evolutionary_2004">Dukas (<a href="#ref-dukas_evolutionary_2004" role="doc-biblioref">2004</a>)</span>; <span class="citation" data-cites="leal_behavioural_2012">Leal and Powell (<a href="#ref-leal_behavioural_2012" role="doc-biblioref">2012</a>)</span>; <span class="citation" data-cites="buchanan_condition_2013">Buchanan, Grindstaff, and Pravosudov (<a href="#ref-buchanan_condition_2013" role="doc-biblioref">2013</a>)</span>). However, the ability of organisms to acquire new information varies accross individuals, with this natural variation usually being influenced by factors like age, sex, social system, gut microbiota, or the environment where animals develop (<strong>REFS</strong>). In this regard, the latter can be particularly relevant because the brain is especially sensitive to environmental impacts during early stages of development (<span class="citation" data-cites="zhu_prenatal_2004">Zhu et al. (<a href="#ref-zhu_prenatal_2004" role="doc-biblioref">2004</a>)</span>). These differences in neural development caused by early environment can have long-lasting effects on learning skills, and prenatal Glucocorticoids (GCs) and prenatal thermal environment are known to play a prominent role in shaping learning abilities in different taxa (see <span class="citation" data-cites="lemaire_prenatal_2000">Lemaire et al. (<a href="#ref-lemaire_prenatal_2000" role="doc-biblioref">2000</a>)</span>; <span class="citation" data-cites="zhu_prenatal_2004">Zhu et al. (<a href="#ref-zhu_prenatal_2004" role="doc-biblioref">2004</a>)</span>; <span class="citation" data-cites="amiel_hotter_2012">Joshua J. Amiel and Shine (<a href="#ref-amiel_hotter_2012" role="doc-biblioref">2012</a>)</span>; <span class="citation" data-cites="amiel_egg_2014">Joshua Johnstone Amiel, Lindström, and Shine (<a href="#ref-amiel_egg_2014" role="doc-biblioref">2014</a>)</span>; <span class="citation" data-cites="crino_corticosterone_2014">Crino, Driscoll, and Breuner (<a href="#ref-crino_corticosterone_2014" role="doc-biblioref">2014</a>)</span>; <span class="citation" data-cites="abayarathna_effects_2020">Abayarathna and Webb (<a href="#ref-abayarathna_effects_2020" role="doc-biblioref">2020</a>)</span>). GCs - <strong>hormones related to organisms’ response to changes in homeostasis (BEST DEF AND REF</strong>) - can have sustained pysiological effects on neural structure and physiology associated with animals’ performance on learning tasks (<strong>Definition and REF</strong>). In this sense, there is evidence that high prenatal GC levels impair with learning accross different taxa (<strong>MORE EG.S AND REFS</strong>; <span class="citation" data-cites="lemaire_prenatal_2000">Lemaire et al. (<a href="#ref-lemaire_prenatal_2000" role="doc-biblioref">2000</a>)</span>; <span class="citation" data-cites="zhu_prenatal_2004">Zhu et al. (<a href="#ref-zhu_prenatal_2004" role="doc-biblioref">2004</a>)</span>), but results vary depending on sex, or task (<strong>REFS</strong>). Also, some studies have revealed effects of prenatal temperature on learning in ectotherms (<strong>REFS</strong>). For instance, … (<strong>REFS</strong>). In this vein, the effect of prenatal temperature has been associated with similar changes in neural structure and metabolic activity (<strong>REFS</strong>). However, despite both prenatal GCs and thermal environment are known to affect learning through similar mechanisms, the interaction between this two factors is still poorly understood. In this study, we aim to explore the interactive effects between prenatal Glucocorticoids (GCs) and the prenatal thermal environment on learning using two species of skinks, the delicate skink (<em>Lampropholis delicata</em>) and the common garden skink (<em>L. guichenoti</em>), as our model species. We experimentally increased Corticosterone (CORT) - the main GC in reptiles - levels in the eggs of these two species of skinks and then incubated them at two different temperatures in a 2X2 factorial design. Then, we subjected the juveniles to a colour-associative and a reversal task to explore their learning abilities. We hypothesise that changes in CORT levels and temperature during early development will have sustained effects on brain’s morphology and physiology that will ultimately impact learning skills. We predicted that individuals exposed to high levels of CORT and/or low temperatures will perform worse in the learning tasks than control individuals or individuals exposed to high temperatures. We also expected incubation at high temperatures to decrease the impact of CORT on skink’s performance, while cold incubation temperatures were expected to increase CORT detrimental effects on learning.</p>
<p><strong>Cognition it is affected by the conditions in which organisms develop (Burger, 1991; Lemaire et al., 2000; Amiel and Shine, 2012; Amiel et al., 2014; Abayarathna and Webb, 2020).</strong></p>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<section id="subjects" class="level3">
<h3 class="anchored" data-anchor-id="subjects">Subjects</h3>
<p><em>L. guichenoti</em> and <em>L. delicata</em> are small (∼35–55 mm snout-vent length (SVL)), oviparous, and generalist skinks that usually share the same habitat in suburban areas throughout south-eastern Australia (<span class="citation" data-cites="chapple_know_2011">(<a href="#ref-chapple_know_2011" role="doc-biblioref">Chapple, Simmonds, and Wong 2011</a>)</span>). They also have similar breeding periods, but with some differences in reproductive output: while <em>L. delicata</em> lays 1 to 6 eggs in only one clutch per season, <em>L. guichenoti</em> clutches are smaller (1-5 eggs per clutch) but they usually lay two clutches per season (<span class="citation" data-cites="chapple_know_2011">(<a href="#ref-chapple_know_2011" role="doc-biblioref">Chapple, Simmonds, and Wong 2011</a>)</span>; <span class="citation" data-cites="chapple_biology_2014">(<a href="#ref-chapple_biology_2014" role="doc-biblioref">Chapple et al. 2014</a>)</span>).</p>
</section>
<section id="husbandry" class="level3">
<h3 class="anchored" data-anchor-id="husbandry">Husbandry</h3>
<p><em>Breeding colony</em> – We tested juveniles coming from a breeding colony established in the lab since 2019. There is a total of 270 and 180 adults of <em>L. delicata</em> and <em>L. guichenoti</em> respectively, housed in big containers (41.5 L x 30.5 W x 21 H cm) with six lizards (2 males and 4 females) per enclosure. Enclosures are provided with non-stick matting, shelter, and several small water dishes. Water is given daily, and they are fed approx. 40 mid-size crickets (<em>Acheta domestica</em>) per enclosure three days a week. Crickets are dusted with calcium weekly and multivitamin and calcium biweekly. To ensure a temperature gradient, we employ a heat chord and a heat lamp following a 12 h light:12 h dark cycle. Room temperatures are set to 22-24 Celsius, and warm side of enclosures is usually at 32 Celsius.</p>
<p><em>Eggs collection and incubation</em> – Between mid-October 2022 to the end of February 2023, we provided females with a place to lay the eggs by means of small boxes (12.5 L x 8.3 W x 5 H cm) with moist vermiculite inside, that were placed in one extreme of the communal enclosures (see above). We checked for the presence of eggs in the boxes three days a week. After collection, we measured length and width of eggs with a digital caliper to the nearest 0.1 mm and weight them with a (OHAUS, Model spx123) digital scale ± 0.001g error. Then eggs were treated with CORT or vehicle (see CORT and Temperature manipulation below) and were placed in individual cups (80 mL) with moist vermiculite (12 parts water to 4 parts vermiculite). The cups were covered with cling wrap to retain moisture and left in LATWIT 2X5D-R1160 incubators at two different temperatures (see CORT and Temperature manipulation below) until hatching.</p>
<p><em>Hatchlings</em> – Eggs in the incubator were checked three times a week for hatchlings. After hatchling, we measured juveniles’ SVL and Tail Length (TL) with a rule to the nearest mm and weighted them with a (OHAUS, Model spx123) digital scale ± 0.001g error. We then placed hatchlings in individual enclosures (18.7L x 13.2W x 6.3H cm) and provided them with non-stick matting and a small water dish. During this period, they were sprayed water every day and received 3-6 small <em>A. domestica</em> crickets three times a week. All care otherwise follows similar protocols to adults (see above).</p>
<p>Two weeks before we started the training phase (see below), lizards were moved to the experimental arena (Fig. 1c) for acclimatation. The arenas were individual medium size (41 L x 29.7 W x 22 H cm) plastic containers with a shelter (9 L x 6 W x 1.5 H cm) on one of the extremes and a water dish on the other. These new enclosures were placed in two rooms in 7 different racks associated to 7 different CCTV systems (device model DVR-HP210475) that allowed us to record their behaviour during the experiment (see details below). The number of lizards per species and treatment in each rack was counterbalanced to control for any effect of the room or the position of the lizard in the rack. During acclimatation and all the experiment, lizards were fed with only one cricket per day dusted with calcium and multivitamin (see protocol below), and water was supplied <em>ad libitum.</em> We provided a temperature gradient by means of a heat cord and heat lamps in a 12 h light: 12 h dark cycle. The rooms temperature was set to between 22-24 Celsius. We tested temperatures with laser temperature guns to ensure such a set up established a thermal gradient and we there were no significant differences between treatments or species (see Supplementary Material).</p>
</section>
<section id="cort-and-temperature-manipulation" class="level3">
<h3 class="anchored" data-anchor-id="cort-and-temperature-manipulation">CORT and Temperature manipulation</h3>
<p>To test empirically the effect of early environment we manipulated CORT concentration in eggs and incubated them under one of two temperature regimes (‘Cold’ – 23ºC ± 3ºC or ‘Hot’ – 30ºC ± 3ºC) in a 2x2 factorial design (Fig. 1a). We first allocated eggs to one of two different treatments: in one of the treatments, eggs were topically supplied with 5µL of CORT dissolved in 70% Ethanol and 30% DMSO (vehicle) at a final (10 pg CORT/mL) concentration (CORT treatment); while eggs in the other group (Control treatment) received an equal volume of the vehicle. CORT concentration employed in the CORT treatment represents 2 standard deviations above the mean natural concentration obtained in eggs from both species (non-published data). Then, eggs were incubated in one of the two previously mentioned temperature regimes (‘Cold’ or ‘Hot’) until hatching. The number of eggs per clutch assigned to each hormone and temperature treatment were counterbalanced in both species.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-fig1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="./Others/LEARN_FIG_1.svg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;1— <strong>?(caption)</strong></figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="learning" class="level3">
<h3 class="anchored" data-anchor-id="learning">Learning</h3>
<p>To estimate learning skills, we tested skinks’ ability to locate a food reward in a series of behavioural tasks (Fig. 2) (see <span class="citation" data-cites="leal_behavioural_2012">(<a href="#ref-leal_behavioural_2012" role="doc-biblioref">Leal and Powell 2012</a>)</span>; <span class="citation" data-cites="clark_colour_2014">(<a href="#ref-clark_colour_2014" role="doc-biblioref">Clark et al. 2014</a>)</span>). First, we performed a training phase where lizards had to learn to eat from white 3D-printed PLA ramps (9 L x 4 W x 5 H cm) identical to the ones from the experiment except for the colour (see below). We divided this training phase into three stages (see Fig. 2): in the first stage, lizards had to eat a small, frozen cricket (<em>A. domestica</em>) from an opaque petri dish (3D x 1.6H cm) placed in the middle of their enclosure; in the second stage, the petri dish with the cricket was placed on top of the white 3D printed ramps; and finally, the cricket was left inside a well (3D x 1.75H cm) on the top of the ramp in the third and last stage. Every trial began when we left the feeding block (petri dish, ramp, or both) inside the enclosure and finished one hour later when we took it away. At the end of the experiment, we recorded whether the cricket has been consumed or not. Trial was considered successful if the lizard could locate and consume the reward, while completion of each stage required the lizards to eat the crickets in at least 5 out of 6 trials. This phase lasted 38 days until all the lizards were able to eat from the ramp; only in one case we decided not to use the lizard because its behaviour was not consistent over the course of the training phase (see Supplementary material).</p>
<p>In the next phase, we trained lizards to associate between colour and a food reward (colour association task in Fig. 2). The test was like the third stage of the training phase, but here lizards were presented with three feeders that differed in the colour. We placed the food reward (small, frozen, <em>A. domestica</em> crickets) inside the wells of the three feeders, covering two of the crickets with 3D-printed lids (3D x 0.5H cm) so prey was only accessible in one ramp. The food reward was placed in all three wells to avoid the use of chemical cues to determine the correct choice; our lids had a series of small holes on the top for the same reason. The colours of the feeders were green, red, and blue, as previous studies demonstrate that squamates can discriminate between these colours (REF). To control for potential colour preference that could bias our results, we split the subjects in two groups counterbalanced by treatment and species; in one group the correct choice (i.e., the ramp with non-covered cricket) was the blue one in the associative task and red in the reversal, while we did the opposite for the other half. In all trials, the position of the feeders was changed randomly to ensure subjects were using colour rather than spatial cues for the association. Lizards were tested in this task once a day for 35 days.</p>
<p>After the colour association phase, we performed a choice reversal task. This task was like the colour association test, except that the attainability of prey was indicated by a different colour, requiring the lizards to form a novel association between the new colour and the food reward. This test was done once a day for 40 days.</p>
<p>All trials were done daily between the 6<sup>th</sup> of March until the 26<sup>th</sup> of June 2023, beginning at 11 am until 12 pm. Trials in the learning phases (colour associative task and reversal tasks) were recorded with different CCTV systems always using the same camera per individual. Videos were analysed manually using a standard video player (IINA) by PR, who recorded whether the first choice made by each subject was the correct feeder or not.</p>
<p>INSERT Fig 2</p>
</section>
<section id="statistical-analyses" class="level3">
<h3 class="anchored" data-anchor-id="statistical-analyses">Statistical analyses</h3>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-abayarathna_effects_2020" class="csl-entry" role="listitem">
Abayarathna, Theja, and Jonathan K. Webb. 2020. <span>“Effects of Incubation Temperatures on Learning Abilities of Hatchling Velvet Geckos.”</span> <em>Animal Cognition</em> 23 (4): 613–20. <a href="https://doi.org/10.1007/s10071-020-01365-4">https://doi.org/10.1007/s10071-020-01365-4</a>.
</div>
<div id="ref-amiel_egg_2014" class="csl-entry" role="listitem">
Amiel, Joshua Johnstone, Tom Lindström, and Richard Shine. 2014. <span>“Egg Incubation Effects Generate Positive Correlations Between Size, Speed and Learning Ability in Young Lizards.”</span> <em>Animal Cognition</em> 17 (2): 337–47. <a href="https://doi.org/10.1007/s10071-013-0665-4">https://doi.org/10.1007/s10071-013-0665-4</a>.
</div>
<div id="ref-amiel_hotter_2012" class="csl-entry" role="listitem">
Amiel, Joshua J., and Richard Shine. 2012. <span>“Hotter Nests Produce Smarter Young Lizards.”</span> <em>Biology Letters</em> 8 (3): 372–74. <a href="https://doi.org/10.1098/rsbl.2011.1161">https://doi.org/10.1098/rsbl.2011.1161</a>.
</div>
<div id="ref-buchanan_condition_2013" class="csl-entry" role="listitem">
Buchanan, Katherine L., Jennifer L. Grindstaff, and Vladimir V. Pravosudov. 2013. <span>“Condition Dependence, Developmental Plasticity, and Cognition: Implications for Ecology and Evolution.”</span> <em>Trends in Ecology &amp; Evolution</em> 28 (5): 290–96. <a href="https://doi.org/10.1016/j.tree.2013.02.004">https://doi.org/10.1016/j.tree.2013.02.004</a>.
</div>
<div id="ref-chapple_biology_2014" class="csl-entry" role="listitem">
Chapple, David G., Kimberly A. Miller, Kirilee Chaplin, Louise Barnett, Michael B. Thompson, and Rebecca D. Bray. 2014. <span>“Biology of the Invasive Delicate Skink (<span>Lampropholis</span> Delicata) on <span>Lord</span> <span>Howe</span> <span>Island</span>.”</span> <em>Australian Journal of Zoology</em> 62 (6): 498. <a href="https://doi.org/10.1071/ZO14098">https://doi.org/10.1071/ZO14098</a>.
</div>
<div id="ref-chapple_know_2011" class="csl-entry" role="listitem">
Chapple, David G., Sarah M. Simmonds, and Bob B. M. Wong. 2011. <span>“Know When to Run, Know When to Hide: Can Behavioral Differences Explain the Divergent Invasion Success of Two Sympatric Lizards?: <span>Invasion</span> <span>Success</span> of <span>Two</span> <span>Sympatric</span> <span>Lizards</span>.”</span> <em>Ecology and Evolution</em> 1 (3): 278–89. <a href="https://doi.org/10.1002/ece3.22">https://doi.org/10.1002/ece3.22</a>.
</div>
<div id="ref-clark_colour_2014" class="csl-entry" role="listitem">
Clark, Benjamin F., Joshua J. Amiel, Richard Shine, Daniel W. A. Noble, and Martin J. Whiting. 2014. <span>“Colour Discrimination and Associative Learning in Hatchling Lizards Incubated at <span>‘Hot’</span> and <span>‘Cold’</span> Temperatures.”</span> <em>Behavioral Ecology and Sociobiology</em> 68 (2): 239–47. <a href="https://doi.org/10.1007/s00265-013-1639-x">https://doi.org/10.1007/s00265-013-1639-x</a>.
</div>
<div id="ref-crino_corticosterone_2014" class="csl-entry" role="listitem">
Crino, O. L., Stephanie C. Driscoll, and C. W. Breuner. 2014. <span>“Corticosterone Exposure During Development Has Sustained but Not Lifelong Effects on Body Size and Total and Free Corticosterone Responses in the Zebra Finch.”</span> <em>General and Comparative Endocrinology</em> 196 (January): 123–29. <a href="https://doi.org/10.1016/j.ygcen.2013.10.006">https://doi.org/10.1016/j.ygcen.2013.10.006</a>.
</div>
<div id="ref-dukas_evolutionary_2004" class="csl-entry" role="listitem">
Dukas, Reuven. 2004. <span>“Evolutionary <span>Biology</span> of <span>Animal</span> <span>Cognition</span>.”</span> <em>Annual Review of Ecology, Evolution, and Systematics</em> 35 (1): 347–74. <a href="https://doi.org/10.1146/annurev.ecolsys.35.112202.130152">https://doi.org/10.1146/annurev.ecolsys.35.112202.130152</a>.
</div>
<div id="ref-leal_behavioural_2012" class="csl-entry" role="listitem">
Leal, Manuel, and Brian J. Powell. 2012. <span>“Behavioural Flexibility and Problem-Solving in a Tropical Lizard.”</span> <em>Biology Letters</em> 8 (1): 28–30. <a href="https://doi.org/10.1098/rsbl.2011.0480">https://doi.org/10.1098/rsbl.2011.0480</a>.
</div>
<div id="ref-lemaire_prenatal_2000" class="csl-entry" role="listitem">
Lemaire, V., M. Koehl, M. Le Moal, and D. N. Abrous. 2000. <span>“Prenatal Stress Produces Learning Deficits Associated with an Inhibition of Neurogenesis in the Hippocampus.”</span> <em>Proceedings of the National Academy of Sciences</em> 97 (20): 11032–37. <a href="https://doi.org/10.1073/pnas.97.20.11032">https://doi.org/10.1073/pnas.97.20.11032</a>.
</div>
<div id="ref-zhu_prenatal_2004" class="csl-entry" role="listitem">
Zhu, Zhongliang, Xia Li, Weina Chen, Yan Zhao, Hui Li, Cai Qing, Ning Jia, Zhuanli Bai, and Jiankang Liu. 2004. <span>“Prenatal Stress Causes Gender-Dependent Neuronal Loss and Oxidative Stress in Rat Hippocampus.”</span> <em>Journal of Neuroscience Research</em> 78 (6): 837–44. <a href="https://doi.org/10.1002/jnr.20338">https://doi.org/10.1002/jnr.20338</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>